//created on: 16-Nov-2016
package com.skoussou.brms.central;

//list any import classes here.
import com.skoussou.brms.*;

//declare any global variables here


/* -------- MARINA EXPLOITATION ACTIVITY PERMIT RULES -------- */

rule "(CENTRAL) - marina-expansion-activity permit"
//agenda-group "building-activity-local"

agenda-group "exploiting-marina-activity"
salience 101
//lock-on-active true
when
	$b : ExploitingMarinaActivity()
	not IsPermitRequired(activity == $b)
	$l : LegalApplicability( activity == $b)
	ExploitingMarinaActivity( marinaPositions.totalMoorings > 100 );
    $results : BRMSEngineResults()	
then
	//System.out.println("      (CENTRAL) - marina-expansion permit required --> "+$b.getType().name());
	
	// activate along with agenda-group "bulding-activity" and salience 1100
	insert(new IsPermitRequired($b));
	$results.getPermits().add(new Permit($b.getType().name(), "CENTRAL"));
	retract($l);
end  
